{"version":3,"sources":["assets\\scripts\\movement\\characterRotationComponent.ts"],"names":[],"mappings":";;;;;AAAA,qEAAqE;AAC7D,IAAA,OAAO,GAAK,EAAE,CAAC,UAAU,QAAlB,CAAmB;AAGlC;IAAwD,8CAAY;IAApE;;IAsBA,CAAC;IArBG,2CAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED,gDAAW,GAAX,UAAY,KAAK;QACb,IAAM,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACzE,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QACxC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,aAAa,CAAC,CAAC;QACrE,IAAM,eAAe,GAAG,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAE1D,IAAI,eAAe,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;YAC3B,IAAM,KAAK,GAAG,eAAe,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC7C,MAAM,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;SAC5B;IACL,CAAC;IAED,8CAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IArBgB,0BAA0B;QAD9C,OAAO;OACa,0BAA0B,CAsB9C;IAAD,iCAAC;CAtBD,AAsBC,CAtBuD,EAAE,CAAC,SAAS,GAsBnE;kBAtBoB,0BAA0B","file":"","sourceRoot":"/","sourcesContent":["// File path: assets/scripts/components/CharacterRotationComponent.ts\r\nconst { ccclass } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CharacterRotationComponent extends cc.Component {\r\n    onLoad() {\r\n        this.node.parent.on('mousemove', this.onMouseMove, this);\r\n    }\r\n\r\n    onMouseMove(event) {\r\n        const playerPosition = cc.v2(this.node.position.x, this.node.position.y);\r\n        let mousePosition = event.getLocation();\r\n        mousePosition = this.node.parent.convertToNodeSpaceAR(mousePosition);\r\n        const directionVector = mousePosition.sub(playerPosition);\r\n\r\n        if (directionVector.mag() > 0) {\r\n            const angle = directionVector.signAngle(cc.v2(1, 0));\r\n            let angleD = cc.misc.radiansToDegrees(angle);\r\n            angleD = (angleD * -1) - 90;\r\n            this.node.angle = angleD;\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        this.node.parent.off('mousemove', this.onMouseMove, this);\r\n    }\r\n}\r\n"]}