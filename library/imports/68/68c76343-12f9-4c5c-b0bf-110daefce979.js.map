{"version":3,"sources":["assets\\scripts\\movement\\characterMovementComponent.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// File path: assets/scripts/components/CharacterMovementComponent.ts\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CharacterMovementComponent extends cc.Component {\r\n    @property\r\n    speed: number = 200; // Tốc độ di chuyển của nhân vật\r\n\r\n    private direction: cc.Vec2 = cc.v2(0, 0); // Hướng di chuyển hiện tại\r\n\r\n    onLoad() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    }\r\n\r\n    onKeyDown(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.w: this.direction.y = 1; break;\r\n            case cc.macro.KEY.s: this.direction.y = -1; break;\r\n            case cc.macro.KEY.a: this.direction.x = -1; break;\r\n            case cc.macro.KEY.d: this.direction.x = 1; break;\r\n        }\r\n    }\r\n\r\n    onKeyUp(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.w:\r\n            case cc.macro.KEY.s: this.direction.y = 0; break;\r\n            case cc.macro.KEY.a:\r\n            case cc.macro.KEY.d: this.direction.x = 0; break;\r\n        }\r\n    }\r\n\r\n    update(dt) {\r\n        if (this.direction.x !== 0 || this.direction.y !== 0) {\r\n            const moveDistance = this.direction.normalize().mul(this.speed * dt);\r\n            const newPosition = this.node.position.add(moveDistance);\r\n            this.node.setPosition(newPosition);\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    }\r\n}\r\n"]}